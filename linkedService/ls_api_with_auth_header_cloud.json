{
	"name": "ls_api_with_auth_header_cloud",
	"properties": {
		"description": "Use this linked service to connect to a REST API with an authorization header.\nThe linked service test-connection button doesn't work due to the key vault used for Authorization. A workaround for testing - enclose the dynamic parameters of Authorization header in curly brackets - e.q {likedService.foobar}. This fix, however, breaks the pipeline's connection with key vault, hence, this service cannot be tested properly using the button at the bottom of this page.",
		"parameters": {
			"base_url": {
				"type": "string"
			},
			"key_vault_uri": {
				"type": "string"
			},
			"key_vault_secret": {
				"type": "string"
			}
		},
		"annotations": [],
		"type": "RestService",
		"typeProperties": {
			"url": "@{linkedService().base_url}",
			"enableServerCertificateValidation": true,
			"authenticationType": "Anonymous",
			"authHeaders": {
				"Authorization": {
					"type": "AzureKeyVaultSecret",
					"store": {
						"referenceName": "ls_key_vault_no_shir",
						"type": "LinkedServiceReference",
						"parameters": {
							"key_vault_uri": {
								"value": "@linkedService().key_vault_uri",
								"type": "Expression"
							}
						}
					},
					"secretName": {
						"value": "@linkedService().key_vault_secret",
						"type": "Expression"
					}
				}
			}
		},
		"connectVia": {
			"referenceName": "cloud",
			"type": "IntegrationRuntimeReference"
		}
	}
}